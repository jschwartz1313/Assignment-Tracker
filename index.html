<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“š Assignment Tracker</h1>
            <div class="view-toggle">
                <button id="listViewBtn" class="view-btn active">List View</button>
                <button id="calendarViewBtn" class="view-btn">Calendar View</button>
                <button id="canvasSettingsBtn" class="view-btn canvas-btn">Canvas Integration</button>
            </div>
        </header>

        <main>
            <!-- Canvas Integration Section -->
            <section id="canvasSection" class="canvas-section" style="display: none;">
                <h2>Canvas LMS Integration</h2>

                <div class="canvas-setup">
                    <div class="canvas-info">
                        <p>Connect to your Canvas LMS to automatically import assignments.</p>
                        <p><strong>How to get your Canvas Access Token:</strong></p>
                        <ol>
                            <li>Log into your Canvas account</li>
                            <li>Go to Account â†’ Settings</li>
                            <li>Scroll down to "Approved Integrations"</li>
                            <li>Click "+ New Access Token"</li>
                            <li>Give it a name (e.g., "Assignment Tracker") and click "Generate Token"</li>
                            <li>Copy the token and paste it below</li>
                        </ol>
                    </div>

                    <form id="canvasConfigForm">
                        <div class="form-group">
                            <label for="canvasUrl">Canvas Instance URL</label>
                            <input type="url" id="canvasUrl" placeholder="https://canvas.instructure.com" required>
                            <small>Your school's Canvas URL (e.g., https://your-school.instructure.com)</small>
                        </div>

                        <div class="form-group">
                            <label for="canvasToken">Canvas Access Token</label>
                            <input type="password" id="canvasToken" placeholder="Your Canvas API token" required>
                            <small>Keep this token secure! It provides access to your Canvas account.</small>
                        </div>

                        <div class="canvas-actions">
                            <button type="submit" class="btn-primary">Save & Test Connection</button>
                            <button type="button" id="clearCanvasConfig" class="btn-secondary">Clear Settings</button>
                        </div>
                    </form>

                    <div id="canvasStatus" class="canvas-status"></div>
                </div>

                <div id="canvasImportSection" class="canvas-import" style="display: none;">
                    <h3>Import Assignments from Canvas</h3>

                    <div class="canvas-course-mapping">
                        <p>Map your Canvas courses to your assignment tracker classes:</p>
                        <div id="courseMappingList"></div>
                    </div>

                    <div class="import-controls">
                        <button id="importCanvasBtn" class="btn-primary">Import Assignments from Canvas</button>
                        <button id="refreshCanvasBtn" class="btn-secondary">Refresh Canvas Data</button>
                    </div>

                    <div id="importStatus" class="import-status"></div>
                </div>
            </section>

            <!-- Add Assignment Form -->
            <section class="add-assignment-section">
                <h2>Add New Assignment</h2>
                <form id="assignmentForm">
                    <div class="form-group">
                        <label for="assignmentTitle">Assignment Title</label>
                        <input type="text" id="assignmentTitle" required placeholder="e.g., Research Paper">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="assignmentClass">Class</label>
                            <select id="assignmentClass" required>
                                <option value="">Select a class...</option>
                                <option value="INLS 992">INLS 992</option>
                                <option value="INLS 776">INLS 776</option>
                                <option value="ENEC 543">ENEC 543</option>
                                <option value="DATA 545">DATA 545</option>
                                <option value="INLS 642">INLS 642</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="assignmentDueDate">Due Date</label>
                            <input type="datetime-local" id="assignmentDueDate" required>
                        </div>

                        <div class="form-group">
                            <label for="assignmentPriority">Priority</label>
                            <select id="assignmentPriority">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="assignmentDescription">Description (Optional)</label>
                        <textarea id="assignmentDescription" rows="3" placeholder="Add notes or details about the assignment..."></textarea>
                    </div>

                    <button type="submit" class="btn-primary">Add Assignment</button>
                </form>
            </section>

            <!-- Filter and Sort Controls -->
            <section class="controls-section">
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterClass">Filter by Class:</label>
                        <select id="filterClass">
                            <option value="all">All Classes</option>
                            <option value="INLS 992">INLS 992</option>
                            <option value="INLS 776">INLS 776</option>
                            <option value="ENEC 543">ENEC 543</option>
                            <option value="DATA 545">DATA 545</option>
                            <option value="INLS 642">INLS 642</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="filterPriority">Filter by Priority:</label>
                        <select id="filterPriority">
                            <option value="all">All Priorities</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="filterStatus">Filter by Status:</label>
                        <select id="filterStatus">
                            <option value="all">All</option>
                            <option value="incomplete">Incomplete</option>
                            <option value="complete">Complete</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="sortBy">Sort by:</label>
                        <select id="sortBy">
                            <option value="dueDate">Due Date</option>
                            <option value="priority">Priority</option>
                            <option value="class">Class</option>
                            <option value="title">Title</option>
                        </select>
                    </div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <span class="stat-number" id="totalAssignments">0</span>
                        <span class="stat-label">Total</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="incompleteAssignments">0</span>
                        <span class="stat-label">Incomplete</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="dueSoon">0</span>
                        <span class="stat-label">Due Soon</span>
                    </div>
                </div>
            </section>

            <!-- List View -->
            <section id="listView" class="view-section active">
                <h2>Assignments</h2>
                <div id="assignmentsList" class="assignments-list">
                    <p class="empty-state">No assignments yet. Add one above to get started!</p>
                </div>
            </section>

            <!-- Calendar View -->
            <section id="calendarView" class="view-section">
                <div class="calendar-header">
                    <button id="prevMonth" class="calendar-nav">â€¹</button>
                    <h2 id="calendarMonthYear"></h2>
                    <button id="nextMonth" class="calendar-nav">â€º</button>
                </div>
                <div id="calendar" class="calendar-grid"></div>
                <div id="calendarAssignments" class="calendar-assignments">
                    <h3>Selected Date Assignments</h3>
                    <div id="selectedDateAssignments"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Theme Toggle Button -->
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
        <span id="themeIcon">ðŸŒ™</span>
    </button>

    <!-- Edit Assignment Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Assignment</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <form id="editAssignmentForm">
                <input type="hidden" id="editAssignmentId">

                <div class="form-group">
                    <label for="editAssignmentTitle">Assignment Title</label>
                    <input type="text" id="editAssignmentTitle" required placeholder="e.g., Research Paper">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editAssignmentClass">Class</label>
                        <select id="editAssignmentClass" required>
                            <option value="">Select a class...</option>
                            <option value="INLS 992">INLS 992</option>
                            <option value="INLS 776">INLS 776</option>
                            <option value="ENEC 543">ENEC 543</option>
                            <option value="DATA 545">DATA 545</option>
                            <option value="INLS 642">INLS 642</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="editAssignmentDueDate">Due Date</label>
                        <input type="datetime-local" id="editAssignmentDueDate" required>
                    </div>

                    <div class="form-group">
                        <label for="editAssignmentPriority">Priority</label>
                        <select id="editAssignmentPriority">
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editAssignmentDescription">Description (Optional)</label>
                    <textarea id="editAssignmentDescription" rows="3" placeholder="Add notes or details about the assignment..."></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancelEdit">Cancel</button>
                    <button type="submit" class="btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
